<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">

<title>class Group - Rails Application Documentation</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>app/models/group.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link">ActiveRecord::Base
  
</nav>

    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-can_change_license">::can_change_license</a>
    
    <li><a href="#method-c-can_change_styles">::can_change_styles</a>
    
    <li><a href="#method-c-can_read">::can_read</a>
    
    <li><a href="#method-c-friendly_permissions">::friendly_permissions</a>
    
    <li><a href="#method-c-friendly_show_exhibits">::friendly_show_exhibits</a>
    
    <li><a href="#method-c-friendly_to_permission">::friendly_to_permission</a>
    
    <li><a href="#method-c-friendly_to_show_exhibits">::friendly_to_show_exhibits</a>
    
    <li><a href="#method-c-friendly_to_type">::friendly_to_type</a>
    
    <li><a href="#method-c-friendly_to_visibility">::friendly_to_visibility</a>
    
    <li><a href="#method-c-friendly_types">::friendly_types</a>
    
    <li><a href="#method-c-friendly_visibility">::friendly_visibility</a>
    
    <li><a href="#method-c-get_all_users_admins">::get_all_users_admins</a>
    
    <li><a href="#method-c-get_all_users_groups">::get_all_users_groups</a>
    
    <li><a href="#method-c-get_clusters_label">::get_clusters_label</a>
    
    <li><a href="#method-c-get_discussion_visibility">::get_discussion_visibility</a>
    
    <li><a href="#method-c-get_exhibit_visibility">::get_exhibit_visibility</a>
    
    <li><a href="#method-c-get_exhibits_label">::get_exhibits_label</a>
    
    <li><a href="#method-c-id_obfuscator">::id_obfuscator</a>
    
    <li><a href="#method-c-id_retriever">::id_retriever</a>
    
    <li><a href="#method-c-is_peer_reviewed_group">::is_peer_reviewed_group</a>
    
    <li><a href="#method-c-permission_explanations_to_json">::permission_explanations_to_json</a>
    
    <li><a href="#method-c-permission_to_friendly">::permission_to_friendly</a>
    
    <li><a href="#method-c-permissions">::permissions</a>
    
    <li><a href="#method-c-permissions_to_json">::permissions_to_json</a>
    
    <li><a href="#method-c-show_exhibits">::show_exhibits</a>
    
    <li><a href="#method-c-show_exhibits_to_friendly">::show_exhibits_to_friendly</a>
    
    <li><a href="#method-c-type_explanation">::type_explanation</a>
    
    <li><a href="#method-c-type_to_friendly">::type_to_friendly</a>
    
    <li><a href="#method-c-types">::types</a>
    
    <li><a href="#method-c-types_to_json">::types_to_json</a>
    
    <li><a href="#method-c-user_is_in_group">::user_is_in_group</a>
    
    <li><a href="#method-c-visibility">::visibility</a>
    
    <li><a href="#method-c-visibility_explanations_to_json">::visibility_explanations_to_json</a>
    
    <li><a href="#method-c-visibility_to_friendly">::visibility_to_friendly</a>
    
    <li><a href="#method-c-visibility_to_json">::visibility_to_json</a>
    
    <li><a href="#method-i-can_create_exhibit">#can_create_exhibit</a>
    
    <li><a href="#method-i-can_delete">#can_delete</a>
    
    <li><a href="#method-i-can_edit">#can_edit</a>
    
    <li><a href="#method-i-can_leave_group">#can_leave_group</a>
    
    <li><a href="#method-i-can_post">#can_post</a>
    
    <li><a href="#method-i-can_read_forum">#can_read_forum</a>
    
    <li><a href="#method-i-can_request_to_join">#can_request_to_join</a>
    
    <li><a href="#method-i-can_see_admins">#can_see_admins</a>
    
    <li><a href="#method-i-can_view_exhibit">#can_view_exhibit</a>
    
    <li><a href="#method-i-can_view_exhibits">#can_view_exhibits</a>
    
    <li><a href="#method-i-get_all_editors">#get_all_editors</a>
    
    <li><a href="#method-i-get_cluster_label_list">#get_cluster_label_list</a>
    
    <li><a href="#method-i-get_clusters_label">#get_clusters_label</a>
    
    <li><a href="#method-i-get_exhibit_label_list">#get_exhibit_label_list</a>
    
    <li><a href="#method-i-get_exhibits_label">#get_exhibits_label</a>
    
    <li><a href="#method-i-get_membership_list">#get_membership_list</a>
    
    <li><a href="#method-i-get_membership_list_truncated">#get_membership_list_truncated</a>
    
    <li><a href="#method-i-get_number_of_members">#get_number_of_members</a>
    
    <li><a href="#method-i-get_pending_id">#get_pending_id</a>
    
    <li><a href="#method-i-get_truncated_name">#get_truncated_name</a>
    
    <li><a href="#method-i-get_visible_id">#get_visible_id</a>
    
    <li><a href="#method-i-get_visible_url">#get_visible_url</a>
    
    <li><a href="#method-i-handle_solr">#handle_solr</a>
    
    <li><a href="#method-i-invite_members">#invite_members</a>
    
    <li><a href="#method-i-is_editor">#is_editor</a>
    
    <li><a href="#method-i-is_member">#is_member</a>
    
    <li><a href="#method-i-is_owner">#is_owner</a>
    
    <li><a href="#method-i-is_peer_reviewed">#is_peer_reviewed</a>
    
    <li><a href="#method-i-is_request_pending">#is_request_pending</a>
    
    <li><a href="#method-i-non_clustered_exhibits">#non_clustered_exhibits</a>
    
    <li><a href="#method-i-show_exhibits_explanations_to_json">#show_exhibits_explanations_to_json</a>
    
    <li><a href="#method-i-show_exhibits_to_json">#show_exhibits_to_json</a>
    
    <li><a href="#method-i-split_by_all_delimiters">#split_by_all_delimiters</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./doc/README_FOR_APP.html">README_FOR_APP</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./Typewright.html">Typewright</a>
  
    <li><a href="./Typewright/AdminController.html">Typewright::AdminController</a>
  
    <li><a href="./Typewright/Document.html">Typewright::Document</a>
  
    <li><a href="./Typewright/DocumentUser.html">Typewright::DocumentUser</a>
  
    <li><a href="./Typewright/DocumentUsersController.html">Typewright::DocumentUsersController</a>
  
    <li><a href="./Typewright/DocumentsController.html">Typewright::DocumentsController</a>
  
    <li><a href="./Typewright/Line.html">Typewright::Line</a>
  
    <li><a href="./Typewright/LinesController.html">Typewright::LinesController</a>
  
    <li><a href="./Typewright/Overview.html">Typewright::Overview</a>
  
    <li><a href="./Typewright/OverviewsController.html">Typewright::OverviewsController</a>
  
    <li><a href="./Typewright/OverviewsHelper.html">Typewright::OverviewsHelper</a>
  
    <li><a href="./Typewright/SoapController.html">Typewright::SoapController</a>
  
    <li><a href="./Typewright/TwFeaturedObject.html">Typewright::TwFeaturedObject</a>
  
    <li><a href="./Typewright/TypewrightHelper.html">Typewright::TypewrightHelper</a>
  
    <li><a href="./Typewright/User.html">Typewright::User</a>
  
    <li><a href="./Admin.html">Admin</a>
  
    <li><a href="./Admin/BaseController.html">Admin::BaseController</a>
  
    <li><a href="./Admin/DefaultController.html">Admin::DefaultController</a>
  
    <li><a href="./Admin/DefaultHelper.html">Admin::DefaultHelper</a>
  
    <li><a href="./Admin/DefaultHelper/Session.html">Admin::DefaultHelper::Session</a>
  
    <li><a href="./Admin/DiscussionTopicsController.html">Admin::DiscussionTopicsController</a>
  
    <li><a href="./Admin/DiscussionTopicsHelper.html">Admin::DiscussionTopicsHelper</a>
  
    <li><a href="./Admin/FeaturesController.html">Admin::FeaturesController</a>
  
    <li><a href="./Admin/FeaturesHelper.html">Admin::FeaturesHelper</a>
  
    <li><a href="./Admin/SetupsController.html">Admin::SetupsController</a>
  
    <li><a href="./Admin/SetupsHelper.html">Admin::SetupsHelper</a>
  
    <li><a href="./Admin/SiteHelper.html">Admin::SiteHelper</a>
  
    <li><a href="./Admin/UserRolesController.html">Admin::UserRolesController</a>
  
    <li><a href="./Admin/UserRolesHelper.html">Admin::UserRolesHelper</a>
  
    <li><a href="./Catalog.html">Catalog</a>
  
    <li><a href="./Catalog/Error.html">Catalog::Error</a>
  
    <li><a href="./GroupsController.html">GroupsController</a>
  
    <li><a href="./GroupsController/RolesUser.html">GroupsController::RolesUser</a>
  
    <li><a href="./ApplicationController.html">ApplicationController</a>
  
    <li><a href="./ApplicationHelper.html">ApplicationHelper</a>
  
    <li><a href="./Branding.html">Branding</a>
  
    <li><a href="./BuilderController.html">BuilderController</a>
  
    <li><a href="./BuilderHelper.html">BuilderHelper</a>
  
    <li><a href="./CachedProperty.html">CachedProperty</a>
  
    <li><a href="./CachedResource.html">CachedResource</a>
  
    <li><a href="./CharSetAlter.html">CharSetAlter</a>
  
    <li><a href="./ClassroomController.html">ClassroomController</a>
  
    <li><a href="./ClassroomHelper.html">ClassroomHelper</a>
  
    <li><a href="./Cluster.html">Cluster</a>
  
    <li><a href="./ClustersController.html">ClustersController</a>
  
    <li><a href="./CollectedItem.html">CollectedItem</a>
  
    <li><a href="./CommentReport.html">CommentReport</a>
  
    <li><a href="./CommunitiesController.html">CommunitiesController</a>
  
    <li><a href="./CommunitiesHelper.html">CommunitiesHelper</a>
  
    <li><a href="./Constraint.html">Constraint</a>
  
    <li><a href="./DiscussionComment.html">DiscussionComment</a>
  
    <li><a href="./DiscussionThread.html">DiscussionThread</a>
  
    <li><a href="./DiscussionThreadsHelper.html">DiscussionThreadsHelper</a>
  
    <li><a href="./DiscussionTopic.html">DiscussionTopic</a>
  
    <li><a href="./DiscussionVisit.html">DiscussionVisit</a>
  
    <li><a href="./DocumentCompleteMailer.html">DocumentCompleteMailer</a>
  
    <li><a href="./Exhibit.html">Exhibit</a>
  
    <li><a href="./ExhibitElement.html">ExhibitElement</a>
  
    <li><a href="./ExhibitElementsController.html">ExhibitElementsController</a>
  
    <li><a href="./ExhibitElementsHelper.html">ExhibitElementsHelper</a>
  
    <li><a href="./ExhibitFootnote.html">ExhibitFootnote</a>
  
    <li><a href="./ExhibitIllustration.html">ExhibitIllustration</a>
  
    <li><a href="./ExhibitIllustrationsController.html">ExhibitIllustrationsController</a>
  
    <li><a href="./ExhibitObject.html">ExhibitObject</a>
  
    <li><a href="./ExhibitPage.html">ExhibitPage</a>
  
    <li><a href="./ExhibitPagesController.html">ExhibitPagesController</a>
  
    <li><a href="./ExhibitsController.html">ExhibitsController</a>
  
    <li><a href="./ExpressionConstraint.html">ExpressionConstraint</a>
  
    <li><a href="./FacetConstraint.html">FacetConstraint</a>
  
    <li><a href="./FeaturedObject.html">FeaturedObject</a>
  
    <li><a href="./FederationConstraint.html">FederationConstraint</a>
  
    <li><a href="./ForumController.html">ForumController</a>
  
    <li><a href="./FreeCultureConstraint.html">FreeCultureConstraint</a>
  
    <li><a href="./FullTextConstraint.html">FullTextConstraint</a>
  
    <li><a href="./GenericMailer.html">GenericMailer</a>
  
    <li><a href="./GetIncludeFileList.html">GetIncludeFileList</a>
  
    <li><a href="./Group.html">Group</a>
  
    <li><a href="./GroupsHelper.html">GroupsHelper</a>
  
    <li><a href="./GroupsUser.html">GroupsUser</a>
  
    <li><a href="./HelpController.html">HelpController</a>
  
    <li><a href="./HomeController.html">HomeController</a>
  
    <li><a href="./HomeHelper.html">HomeHelper</a>
  
    <li><a href="./Image.html">Image</a>
  
    <li><a href="./ImageFull.html">ImageFull</a>
  
    <li><a href="./IsoLanguage.html">IsoLanguage</a>
  
    <li><a href="./LoginController.html">LoginController</a>
  
    <li><a href="./LoginHelper.html">LoginHelper</a>
  
    <li><a href="./LoginInfo.html">LoginInfo</a>
  
    <li><a href="./MyCollexController.html">MyCollexController</a>
  
    <li><a href="./MyCollexHelper.html">MyCollexHelper</a>
  
    <li><a href="./Object.html">Object</a>
  
    <li><a href="./ObjectActivity.html">ObjectActivity</a>
  
    <li><a href="./PeerReview.html">PeerReview</a>
  
    <li><a href="./PublicationImage.html">PublicationImage</a>
  
    <li><a href="./PublicationsController.html">PublicationsController</a>
  
    <li><a href="./PublicationsHelper.html">PublicationsHelper</a>
  
    <li><a href="./ResultsController.html">ResultsController</a>
  
    <li><a href="./Role.html">Role</a>
  
    <li><a href="./SavedSearchConstraint.html">SavedSearchConstraint</a>
  
    <li><a href="./Search.html">Search</a>
  
    <li><a href="./SearchController.html">SearchController</a>
  
    <li><a href="./SearchHelper.html">SearchHelper</a>
  
    <li><a href="./SearchUserContent.html">SearchUserContent</a>
  
    <li><a href="./Session.html">Session</a>
  
    <li><a href="./Setup.html">Setup</a>
  
    <li><a href="./Tag.html">Tag</a>
  
    <li><a href="./TagController.html">TagController</a>
  
    <li><a href="./TagHelper.html">TagHelper</a>
  
    <li><a href="./Tagassign.html">Tagassign</a>
  
    <li><a href="./TestJsController.html">TestJsController</a>
  
    <li><a href="./TestJsHelper.html">TestJsHelper</a>
  
    <li><a href="./TypeWrightConstraint.html">TypeWrightConstraint</a>
  
    <li><a href="./User.html">User</a>
  
    <li><a href="./UsernameAlreadyExistsException.html">UsernameAlreadyExistsException</a>
  
    <li><a href="./VicConference.html">VicConference</a>
  
    <li><a href="./VicConferenceController.html">VicConferenceController</a>
  
    <li><a href="./WebUtils.html">WebUtils</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class Group</h1>

  <div id="description" class="description">
    
<p>Copyright 2009 Applied Research in Patacriticism and the University of
Virginia</p>

<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not
use this file except in compliance with the License. You may obtain a copy
of the License at</p>

<pre>http://www.apache.org/licenses/LICENSE-2.0</pre>

<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an “AS IS” BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License.</p>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-can_change_license" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">can_change_license</span><span
            class="method-args">(exhibit)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p><a href="Exhibit.html">Exhibit</a> capabilities</p>
          

          
          <div class="method-source-code" id="can_change_license-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 145</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">can_change_license</span>(<span class="ruby-identifier">exhibit</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">group_id</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">group_id</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
        <span class="ruby-identifier">group</span> = <span class="ruby-constant">Group</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">group_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">group</span>.<span class="ruby-identifier">license_type</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">group</span>.<span class="ruby-identifier">license_type</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- can_change_license-source -->
          
        </div>

        

        
      </div><!-- can_change_license-method -->

    
      <div id="method-c-can_change_styles" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">can_change_styles</span><span
            class="method-args">(exhibit)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="can_change_styles-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 151</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">can_change_styles</span>(<span class="ruby-identifier">exhibit</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">group_id</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">group_id</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
        <span class="ruby-identifier">group</span> = <span class="ruby-constant">Group</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">group_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">group</span>.<span class="ruby-identifier">use_styles</span> <span class="ruby-operator">!=</span> <span class="ruby-value">1</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- can_change_styles-source -->
          
        </div>

        

        
      </div><!-- can_change_styles-method -->

    
      <div id="method-c-can_read" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">can_read</span><span
            class="method-args">(thread, user_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="can_read-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 56</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">can_read</span>(<span class="ruby-identifier">thread</span>, <span class="ruby-identifier">user_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">thread</span>.<span class="ruby-identifier">group_id</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-identifier">group</span> = <span class="ruby-constant">Group</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">thread</span>.<span class="ruby-identifier">group_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">group</span>.<span class="ruby-identifier">can_read_forum</span>(<span class="ruby-identifier">user_id</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- can_read-source -->
          
        </div>

        

        
      </div><!-- can_read-method -->

    
      <div id="method-c-friendly_permissions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">friendly_permissions</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="friendly_permissions-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 426</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_permissions</span>()
        <span class="ruby-keyword">return</span> [ <span class="ruby-string">'Private Discussion'</span>, <span class="ruby-string">'Public Discussion'</span>, <span class="ruby-string">'Open Discussion'</span>]
<span class="ruby-keyword">end</span></pre>
          </div><!-- friendly_permissions-source -->
          
        </div>

        

        
      </div><!-- friendly_permissions-method -->

    
      <div id="method-c-friendly_show_exhibits" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">friendly_show_exhibits</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="friendly_show_exhibits-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 493</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_show_exhibits</span>()
        <span class="ruby-keyword">return</span> [ <span class="ruby-string">'Show all'</span>, <span class="ruby-string">'Show clusters only'</span>, <span class="ruby-string">'Show exhibits only'</span> ]
<span class="ruby-keyword">end</span></pre>
          </div><!-- friendly_show_exhibits-source -->
          
        </div>

        

        
      </div><!-- friendly_show_exhibits-method -->

    
      <div id="method-c-friendly_to_permission" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">friendly_to_permission</span><span
            class="method-args">(permissions)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="friendly_to_permission-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 435</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_to_permission</span>(<span class="ruby-identifier">permissions</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">permissions</span>[<span class="ruby-value">0</span>] <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_permissions</span>()[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">permissions</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">permissions</span>[<span class="ruby-value">1</span>] <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_permissions</span>()[<span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">permissions</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">permissions</span>[<span class="ruby-value">2</span>] <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_permissions</span>()[<span class="ruby-value">2</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">permissions</span>
        <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- friendly_to_permission-source -->
          
        </div>

        

        
      </div><!-- friendly_to_permission-method -->

    
      <div id="method-c-friendly_to_show_exhibits" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">friendly_to_show_exhibits</span><span
            class="method-args">(permissions)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="friendly_to_show_exhibits-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 502</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_to_show_exhibits</span>(<span class="ruby-identifier">permissions</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">show_exhibits</span>[<span class="ruby-value">0</span>] <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_show_exhibits</span>()[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">permissions</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">show_exhibits</span>[<span class="ruby-value">1</span>] <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_show_exhibits</span>()[<span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">permissions</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">show_exhibits</span>[<span class="ruby-value">2</span>] <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_show_exhibits</span>()[<span class="ruby-value">2</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">permissions</span>
        <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- friendly_to_show_exhibits-source -->
          
        </div>

        

        
      </div><!-- friendly_to_show_exhibits-method -->

    
      <div id="method-c-friendly_to_type" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">friendly_to_type</span><span
            class="method-args">(type)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="friendly_to_type-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 399</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_to_type</span>(<span class="ruby-identifier">type</span>)
        <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">types</span>.<span class="ruby-identifier">length</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
                <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">types</span>[<span class="ruby-identifier">i</span>] <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_types</span>()[<span class="ruby-identifier">i</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">type</span>
        }
        <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- friendly_to_type-source -->
          
        </div>

        

        
      </div><!-- friendly_to_type-method -->

    
      <div id="method-c-friendly_to_visibility" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">friendly_to_visibility</span><span
            class="method-args">(visibility)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="friendly_to_visibility-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 469</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_to_visibility</span>(<span class="ruby-identifier">visibility</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">visibility</span>[<span class="ruby-value">0</span>] <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_visibility</span>()[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">visibility</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">visibility</span>[<span class="ruby-value">1</span>] <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_visibility</span>()[<span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">visibility</span>
        <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- friendly_to_visibility-source -->
          
        </div>

        

        
      </div><!-- friendly_to_visibility-method -->

    
      <div id="method-c-friendly_types" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">friendly_types</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="friendly_types-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 390</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_types</span>()
        <span class="ruby-keyword">return</span> [ <span class="ruby-string">'Community'</span>, <span class="ruby-string">'Classroom'</span>, <span class="ruby-string">'Peer Reviewed'</span>]
<span class="ruby-keyword">end</span></pre>
          </div><!-- friendly_types-source -->
          
        </div>

        

        
      </div><!-- friendly_types-method -->

    
      <div id="method-c-friendly_visibility" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">friendly_visibility</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="friendly_visibility-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 461</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_visibility</span>()
        <span class="ruby-keyword">return</span> [ <span class="ruby-string">'Visible to Group'</span>, <span class="ruby-string">'Visible to WWW'</span>]
<span class="ruby-keyword">end</span></pre>
          </div><!-- friendly_visibility-source -->
          
        </div>

        

        
      </div><!-- friendly_visibility-method -->

    
      <div id="method-c-get_all_users_admins" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_all_users_admins</span><span
            class="method-args">(groups, user_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_all_users_admins-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 211</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">get_all_users_admins</span>(<span class="ruby-identifier">groups</span>, <span class="ruby-identifier">user_id</span>)
        <span class="ruby-identifier">admin_groups</span> = []
        <span class="ruby-identifier">groups</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">group</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">admin_groups</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">group</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">group</span>.<span class="ruby-identifier">is_editor</span>(<span class="ruby-identifier">user_id</span>)
        }
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">admin_groups</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_all_users_admins-source -->
          
        </div>

        

        
      </div><!-- get_all_users_admins-method -->

    
      <div id="method-c-get_all_users_groups" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_all_users_groups</span><span
            class="method-args">(user_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_all_users_groups-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 200</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">get_all_users_groups</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-identifier">groups</span> = <span class="ruby-constant">Group</span>.<span class="ruby-identifier">where</span>({<span class="ruby-identifier">owner</span><span class="ruby-operator">:</span> <span class="ruby-identifier">user_id</span>})
        <span class="ruby-identifier">gu</span> = <span class="ruby-constant">GroupsUser</span>.<span class="ruby-identifier">where</span>({<span class="ruby-identifier">user_id</span><span class="ruby-operator">:</span> <span class="ruby-identifier">user_id</span>})
        <span class="ruby-identifier">gu</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">rec</span><span class="ruby-operator">|</span>
                <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">rec</span>.<span class="ruby-identifier">pending_invite</span> &amp; <span class="ruby-operator">!</span><span class="ruby-identifier">rec</span>.<span class="ruby-identifier">pending_request</span>
                        <span class="ruby-identifier">groups</span>.<span class="ruby-identifier">push</span>(<span class="ruby-constant">Group</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">rec</span>.<span class="ruby-identifier">group_id</span>))
                <span class="ruby-keyword">end</span>
        }
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">groups</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_all_users_groups-source -->
          
        </div>

        

        
      </div><!-- get_all_users_groups-method -->

    
      <div id="method-c-get_clusters_label" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_clusters_label</span><span
            class="method-args">(group_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_clusters_label-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 372</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">get_clusters_label</span>(<span class="ruby-identifier">group_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-string">'Cluster'</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">group_id</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-identifier">group</span> = <span class="ruby-constant">Group</span>.<span class="ruby-identifier">find_by_id</span>(<span class="ruby-identifier">group_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-string">'Cluster'</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">group</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">group</span>.<span class="ruby-identifier">get_clusters_label</span>()
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_clusters_label-source -->
          
        </div>

        

        
      </div><!-- get_clusters_label-method -->

    
      <div id="method-c-get_discussion_visibility" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_discussion_visibility</span><span
            class="method-args">(thread)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_discussion_visibility-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 72</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">get_discussion_visibility</span>(<span class="ruby-identifier">thread</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-string">'everyone'</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">thread</span>.<span class="ruby-identifier">group_id</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-identifier">group</span> = <span class="ruby-constant">Group</span>.<span class="ruby-identifier">find_by_id</span>(<span class="ruby-identifier">thread</span>.<span class="ruby-identifier">group_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">group</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">group</span>.<span class="ruby-identifier">forum_permissions</span> <span class="ruby-operator">==</span> <span class="ruby-string">'hidden'</span> <span class="ruby-operator">?</span> <span class="ruby-string">'members'</span> <span class="ruby-operator">:</span> <span class="ruby-string">'everyone'</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_discussion_visibility-source -->
          
        </div>

        

        
      </div><!-- get_discussion_visibility-method -->

    
      <div id="method-c-get_exhibit_visibility" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_exhibit_visibility</span><span
            class="method-args">(exhibit)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_exhibit_visibility-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 93</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">get_exhibit_visibility</span>(<span class="ruby-identifier">exhibit</span>)
        <span class="ruby-comment"># if the exhibit isn't in a group, the only two levels should be 0 or 1. However, if the exhibit was removed from a group,</span>
        <span class="ruby-comment"># then the visibility may be more complicated. In that case, anything but 0 means published.</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">group_id</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
                <span class="ruby-keyword">return</span> <span class="ruby-string">'everyone'</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">is_published</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
                <span class="ruby-keyword">return</span> <span class="ruby-string">'noone'</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;admin&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">is_published</span> <span class="ruby-operator">==</span> <span class="ruby-value">4</span>
        <span class="ruby-identifier">cluster</span> = <span class="ruby-constant">Cluster</span>.<span class="ruby-identifier">find_by_id</span>(<span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">cluster_id</span>)      <span class="ruby-comment"># this can fail if the cluster was deleted with exhibits in it.</span>
        <span class="ruby-keyword">return</span> <span class="ruby-string">'admin'</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">cluster</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">cluster</span>.<span class="ruby-identifier">visibility</span> <span class="ruby-operator">==</span> <span class="ruby-string">'administrators'</span>
        <span class="ruby-keyword">return</span> <span class="ruby-string">'admin'</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">is_published</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span>
        <span class="ruby-keyword">return</span> <span class="ruby-string">'members'</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">editor_limit_visibility</span> <span class="ruby-operator">==</span> <span class="ruby-string">'group'</span>
        <span class="ruby-keyword">return</span> <span class="ruby-string">'members'</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">is_published</span> <span class="ruby-operator">==</span> <span class="ruby-value">3</span>
        <span class="ruby-keyword">return</span> <span class="ruby-string">'everyone'</span> <span class="ruby-comment"># is_published must be either 1 (everyone) or 5 (submit for peer-review and everyone)</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_exhibit_visibility-source -->
          
        </div>

        

        
      </div><!-- get_exhibit_visibility-method -->

    
      <div id="method-c-get_exhibits_label" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_exhibits_label</span><span
            class="method-args">(group_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_exhibits_label-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 365</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">get_exhibits_label</span>(<span class="ruby-identifier">group_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-string">'Exhibit'</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">group_id</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-identifier">group</span> = <span class="ruby-constant">Group</span>.<span class="ruby-identifier">find_by_id</span>(<span class="ruby-identifier">group_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-string">'Exhibit'</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">group</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">group</span>.<span class="ruby-identifier">get_exhibits_label</span>()
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_exhibits_label-source -->
          
        </div>

        

        
      </div><!-- get_exhibits_label-method -->

    
      <div id="method-c-id_obfuscator" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">id_obfuscator</span><span
            class="method-args">(id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>id translation</p>
          

          
          <div class="method-source-code" id="id_obfuscator-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 36</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">id_obfuscator</span>(<span class="ruby-identifier">id</span>) <span class="ruby-comment"># this just changes the id so it is not apparently predictable to a hacker</span>
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">id</span>.<span class="ruby-identifier">to_i</span> * <span class="ruby-value">1657</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- id_obfuscator-source -->
          
        </div>

        

        
      </div><!-- id_obfuscator-method -->

    
      <div id="method-c-id_retriever" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">id_retriever</span><span
            class="method-args">(id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="id_retriever-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 40</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">id_retriever</span>(<span class="ruby-identifier">id</span>)      <span class="ruby-comment"># this undoes the obfuscation</span>
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">id</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">/</span> <span class="ruby-value">1657</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- id_retriever-source -->
          
        </div>

        

        
      </div><!-- id_retriever-method -->

    
      <div id="method-c-is_peer_reviewed_group" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">is_peer_reviewed_group</span><span
            class="method-args">(exhibit)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="is_peer_reviewed_group-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 219</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">is_peer_reviewed_group</span>(<span class="ruby-identifier">exhibit</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">group_id</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-identifier">group</span> = <span class="ruby-constant">Group</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">group_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">group</span>.<span class="ruby-identifier">group_type</span> <span class="ruby-operator">==</span> <span class="ruby-string">'peer-reviewed'</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- is_peer_reviewed_group-source -->
          
        </div>

        

        
      </div><!-- is_peer_reviewed_group-method -->

    
      <div id="method-c-permission_explanations_to_json" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">permission_explanations_to_json</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="permission_explanations_to_json-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 450</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">permission_explanations_to_json</span>
        <span class="ruby-identifier">explanations</span> = [ <span class="ruby-string">&quot;Only group members may read and respond to private discussions.&quot;</span>,
                <span class="ruby-string">&quot;Anyone can read, but only group members may respond.&quot;</span>,
                <span class="ruby-node">&quot;Anyone can read and any #{Setup.site_name()} user can respond.&quot;</span>  ]
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">explanations</span>.<span class="ruby-identifier">to_json</span>()
<span class="ruby-keyword">end</span></pre>
          </div><!-- permission_explanations_to_json-source -->
          
        </div>

        

        
      </div><!-- permission_explanations_to_json-method -->

    
      <div id="method-c-permission_to_friendly" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">permission_to_friendly</span><span
            class="method-args">(permissions)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="permission_to_friendly-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 429</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">permission_to_friendly</span>(<span class="ruby-identifier">permissions</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_permissions</span>[<span class="ruby-value">0</span>] <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">permissions</span>()[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">permissions</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_permissions</span>[<span class="ruby-value">1</span>] <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">permissions</span>()[<span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">permissions</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_permissions</span>[<span class="ruby-value">2</span>] <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">permissions</span>()[<span class="ruby-value">2</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">permissions</span>
        <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- permission_to_friendly-source -->
          
        </div>

        

        
      </div><!-- permission_to_friendly-method -->

    
      <div id="method-c-permissions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">permissions</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="permissions-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 422</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">permissions</span>()
        <span class="ruby-keyword">return</span> [ <span class="ruby-string">'hidden'</span>, <span class="ruby-string">'readonly'</span>, <span class="ruby-string">'full'</span>]
<span class="ruby-keyword">end</span></pre>
          </div><!-- permissions-source -->
          
        </div>

        

        
      </div><!-- permissions-method -->

    
      <div id="method-c-permissions_to_json" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">permissions_to_json</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="permissions_to_json-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 441</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">permissions_to_json</span>()
        <span class="ruby-identifier">vals</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">permissions</span>()
        <span class="ruby-identifier">texts</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_permissions</span>()
        <span class="ruby-identifier">ret</span> = []
        <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-value">2</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">ret</span>.<span class="ruby-identifier">push</span>({ <span class="ruby-value">:value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">vals</span>[<span class="ruby-identifier">i</span>], <span class="ruby-value">:text</span> =<span class="ruby-operator">&gt;</span>       <span class="ruby-identifier">texts</span>[<span class="ruby-identifier">i</span>] })
        }
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">ret</span>.<span class="ruby-identifier">to_json</span>()
<span class="ruby-keyword">end</span></pre>
          </div><!-- permissions_to_json-source -->
          
        </div>

        

        
      </div><!-- permissions_to_json-method -->

    
      <div id="method-c-show_exhibits" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">show_exhibits</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="show_exhibits-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 489</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">show_exhibits</span>()
        <span class="ruby-keyword">return</span> [ <span class="ruby-string">'show_all'</span>, <span class="ruby-string">'show_clusters_only'</span>, <span class="ruby-string">'show_exhibits_only'</span>]
<span class="ruby-keyword">end</span></pre>
          </div><!-- show_exhibits-source -->
          
        </div>

        

        
      </div><!-- show_exhibits-method -->

    
      <div id="method-c-show_exhibits_to_friendly" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">show_exhibits_to_friendly</span><span
            class="method-args">(show_exhibits)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="show_exhibits_to_friendly-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 496</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">show_exhibits_to_friendly</span>(<span class="ruby-identifier">show_exhibits</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_show_exhibits</span>[<span class="ruby-value">0</span>] <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">show_exhibits</span>()[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">show_exhibits</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_show_exhibits</span>[<span class="ruby-value">1</span>] <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">show_exhibits</span>()[<span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">show_exhibits</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_show_exhibits</span>[<span class="ruby-value">2</span>] <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">show_exhibits</span>()[<span class="ruby-value">2</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">show_exhibits</span>
        <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- show_exhibits_to_friendly-source -->
          
        </div>

        

        
      </div><!-- show_exhibits_to_friendly-method -->

    
      <div id="method-c-type_explanation" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">type_explanation</span><span
            class="method-args">(type_pos)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="type_explanation-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 415</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">type_explanation</span>(<span class="ruby-identifier">type_pos</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;Exhibits that have been shared but are not peer-reviewed.&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">type_pos</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
        <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;Student work that has been shared.&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">type_pos</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
        <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;Peer Reviewed work.&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">type_pos</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span>
        <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- type_explanation-source -->
          
        </div>

        

        
      </div><!-- type_explanation-method -->

    
      <div id="method-c-type_to_friendly" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">type_to_friendly</span><span
            class="method-args">(type)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="type_to_friendly-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 393</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">type_to_friendly</span>(<span class="ruby-identifier">type</span>)
        <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">types</span>.<span class="ruby-identifier">length</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
                <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_types</span>[<span class="ruby-identifier">i</span>] <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">types</span>()[<span class="ruby-identifier">i</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">type</span>
        }
        <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- type_to_friendly-source -->
          
        </div>

        

        
      </div><!-- type_to_friendly-method -->

    
      <div id="method-c-types" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">types</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>enumerations</p>
          

          
          <div class="method-source-code" id="types-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 386</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">types</span>()
        <span class="ruby-keyword">return</span> [ <span class="ruby-string">'community'</span>, <span class="ruby-string">'classroom'</span>, <span class="ruby-string">'peer-reviewed'</span>]
<span class="ruby-keyword">end</span></pre>
          </div><!-- types-source -->
          
        </div>

        

        
      </div><!-- types-method -->

    
      <div id="method-c-types_to_json" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">types_to_json</span><span
            class="method-args">(show_all)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="types_to_json-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 405</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">types_to_json</span>(<span class="ruby-identifier">show_all</span>)
        <span class="ruby-identifier">vals</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">types</span>()
        <span class="ruby-identifier">texts</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_types</span>()
        <span class="ruby-identifier">ret</span> = []
        <span class="ruby-identifier">top</span> = <span class="ruby-identifier">show_all</span> <span class="ruby-operator">?</span> <span class="ruby-value">2</span> <span class="ruby-operator">:</span> <span class="ruby-value">1</span>
        <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">top</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">ret</span>.<span class="ruby-identifier">push</span>({ <span class="ruby-value">:value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">vals</span>[<span class="ruby-identifier">i</span>], <span class="ruby-value">:text</span> =<span class="ruby-operator">&gt;</span>       <span class="ruby-identifier">texts</span>[<span class="ruby-identifier">i</span>] })
        }
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">ret</span>.<span class="ruby-identifier">to_json</span>()
<span class="ruby-keyword">end</span></pre>
          </div><!-- types_to_json-source -->
          
        </div>

        

        
      </div><!-- types_to_json-method -->

    
      <div id="method-c-user_is_in_group" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">user_is_in_group</span><span
            class="method-args">(user_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>User’s capabilities</p>
          

          
          <div class="method-source-code" id="user_is_in_group-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 47</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">user_is_in_group</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-comment"># Does this user belong to at least one group?</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">get_all_users_groups</span>(<span class="ruby-identifier">user_id</span>).<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- user_is_in_group-source -->
          
        </div>

        

        
      </div><!-- user_is_in_group-method -->

    
      <div id="method-c-visibility" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">visibility</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="visibility-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 457</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">visibility</span>()
        <span class="ruby-keyword">return</span> [ <span class="ruby-string">'group'</span>, <span class="ruby-string">'www'</span> ]
<span class="ruby-keyword">end</span></pre>
          </div><!-- visibility-source -->
          
        </div>

        

        
      </div><!-- visibility-method -->

    
      <div id="method-c-visibility_explanations_to_json" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">visibility_explanations_to_json</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="visibility_explanations_to_json-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 483</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">visibility_explanations_to_json</span>
        <span class="ruby-identifier">explanations</span> = [ <span class="ruby-string">&quot;Only group members may view exhibits.&quot;</span>,
                <span class="ruby-string">&quot;Anyone can view exhibits.&quot;</span> ]
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">explanations</span>.<span class="ruby-identifier">to_json</span>()
<span class="ruby-keyword">end</span></pre>
          </div><!-- visibility_explanations_to_json-source -->
          
        </div>

        

        
      </div><!-- visibility_explanations_to_json-method -->

    
      <div id="method-c-visibility_to_friendly" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">visibility_to_friendly</span><span
            class="method-args">(visibility)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="visibility_to_friendly-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 464</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">visibility_to_friendly</span>(<span class="ruby-identifier">visibility</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_visibility</span>[<span class="ruby-value">0</span>] <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">visibility</span>()[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">visibility</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_visibility</span>[<span class="ruby-value">1</span>] <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">visibility</span>()[<span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">visibility</span>
        <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- visibility_to_friendly-source -->
          
        </div>

        

        
      </div><!-- visibility_to_friendly-method -->

    
      <div id="method-c-visibility_to_json" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">visibility_to_json</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="visibility_to_json-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 474</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">visibility_to_json</span>()
        <span class="ruby-identifier">vals</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">visibility</span>()
        <span class="ruby-identifier">texts</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">friendly_visibility</span>()
        <span class="ruby-identifier">ret</span> = []
        <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-value">1</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">ret</span>.<span class="ruby-identifier">push</span>({ <span class="ruby-value">:value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">vals</span>[<span class="ruby-identifier">i</span>], <span class="ruby-value">:text</span> =<span class="ruby-operator">&gt;</span>       <span class="ruby-identifier">texts</span>[<span class="ruby-identifier">i</span>] })
        }
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">ret</span>.<span class="ruby-identifier">to_json</span>()
<span class="ruby-keyword">end</span></pre>
          </div><!-- visibility_to_json-source -->
          
        </div>

        

        
      </div><!-- visibility_to_json-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-can_create_exhibit" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">can_create_exhibit</span><span
            class="method-args">(user_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="can_create_exhibit-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 79</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">can_create_exhibit</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">is_member</span>(<span class="ruby-identifier">user_id</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- can_create_exhibit-source -->
          
        </div>

        

        
      </div><!-- can_create_exhibit-method -->

    
      <div id="method-i-can_delete" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">can_delete</span><span
            class="method-args">(user_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="can_delete-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 127</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">can_delete</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">is_owner</span>(<span class="ruby-identifier">user_id</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- can_delete-source -->
          
        </div>

        

        
      </div><!-- can_delete-method -->

    
      <div id="method-i-can_edit" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">can_edit</span><span
            class="method-args">(user_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="can_edit-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 52</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">can_edit</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">is_editor</span>(<span class="ruby-identifier">user_id</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- can_edit-source -->
          
        </div>

        

        
      </div><!-- can_edit-method -->

    
      <div id="method-i-can_leave_group" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">can_leave_group</span><span
            class="method-args">(user_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="can_leave_group-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 138</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">can_leave_group</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-operator">!</span><span class="ruby-identifier">is_owner</span>(<span class="ruby-identifier">user_id</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">is_member</span>(<span class="ruby-identifier">user_id</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- can_leave_group-source -->
          
        </div>

        

        
      </div><!-- can_leave_group-method -->

    
      <div id="method-i-can_post" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">can_post</span><span
            class="method-args">(user_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="can_post-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 67</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">can_post</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">forum_permissions</span> <span class="ruby-operator">==</span> <span class="ruby-string">'full'</span>
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">is_member</span>(<span class="ruby-identifier">user_id</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- can_post-source -->
          
        </div>

        

        
      </div><!-- can_post-method -->

    
      <div id="method-i-can_read_forum" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">can_read_forum</span><span
            class="method-args">(user_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="can_read_forum-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 62</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">can_read_forum</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">forum_permissions</span> <span class="ruby-operator">!=</span> <span class="ruby-string">'hidden'</span>
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">is_member</span>(<span class="ruby-identifier">user_id</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- can_read_forum-source -->
          
        </div>

        

        
      </div><!-- can_read_forum-method -->

    
      <div id="method-i-can_request_to_join" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">can_request_to_join</span><span
            class="method-args">(user_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="can_request_to_join-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 131</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">can_request_to_join</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">user_id</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-identifier">pending_id</span> = <span class="ruby-identifier">get_pending_id</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">pending_id</span>
        <span class="ruby-keyword">return</span> <span class="ruby-operator">!</span><span class="ruby-identifier">is_member</span>(<span class="ruby-identifier">user_id</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">is_request_pending</span>(<span class="ruby-identifier">user_id</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- can_request_to_join-source -->
          
        </div>

        

        
      </div><!-- can_request_to_join-method -->

    
      <div id="method-i-can_see_admins" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">can_see_admins</span><span
            class="method-args">(user_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="can_see_admins-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 83</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">can_see_admins</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">show_admins</span> <span class="ruby-operator">==</span> <span class="ruby-string">'all'</span>
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">is_member</span>(<span class="ruby-identifier">user_id</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- can_see_admins-source -->
          
        </div>

        

        
      </div><!-- can_see_admins-method -->

    
      <div id="method-i-can_view_exhibit" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">can_view_exhibit</span><span
            class="method-args">(exhibit, user_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="can_view_exhibit-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 109</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">can_view_exhibit</span>(<span class="ruby-identifier">exhibit</span>, <span class="ruby-identifier">user_id</span>)
        <span class="ruby-comment"># The exhibit is visible if the user is an admin of the group.</span>
        <span class="ruby-comment"># Then check to see if it is in a restricted cluster, or it is a restricted exhibit. If so, then it is not visible.</span>
        <span class="ruby-comment"># Then see if the user is a member. If so, then it is visible.</span>
        <span class="ruby-comment"># Then see if it is restricted to the group.</span>
        
        <span class="ruby-comment"># see if only an editor can see it.</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">is_editor</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">is_published</span> <span class="ruby-operator">==</span> <span class="ruby-value">4</span>
        <span class="ruby-identifier">cluster</span> = <span class="ruby-constant">Cluster</span>.<span class="ruby-identifier">find_by_id</span>(<span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">cluster_id</span>)      <span class="ruby-comment"># this can fail if the cluster was deleted with exhibits in it.</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">cluster</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">cluster</span>.<span class="ruby-identifier">visibility</span> <span class="ruby-operator">!=</span> <span class="ruby-string">'everyone'</span>

        <span class="ruby-comment"># see if only a member can see it</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">is_member</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> (<span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">is_published</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">is_published</span> <span class="ruby-operator">==</span> <span class="ruby-value">5</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">editor_limit_visibility</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">editor_limit_visibility</span> <span class="ruby-operator">!=</span> <span class="ruby-string">'group'</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- can_view_exhibit-source -->
          
        </div>

        

        
      </div><!-- can_view_exhibit-method -->

    
      <div id="method-i-can_view_exhibits" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">can_view_exhibits</span><span
            class="method-args">(user_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="can_view_exhibits-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 88</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">can_view_exhibits</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">exhibit_visibility</span> <span class="ruby-operator">==</span> <span class="ruby-string">'www'</span>
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">is_member</span>(<span class="ruby-identifier">user_id</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- can_view_exhibits-source -->
          
        </div>

        

        
      </div><!-- can_view_exhibits-method -->

    
      <div id="method-i-get_all_editors" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_all_editors</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_all_editors-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 190</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_all_editors</span>()
        <span class="ruby-identifier">gus</span> = <span class="ruby-constant">GroupsUser</span>.<span class="ruby-identifier">where</span>({<span class="ruby-identifier">group_id</span><span class="ruby-operator">:</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">role</span><span class="ruby-operator">:</span> <span class="ruby-string">'editor'</span>})
        <span class="ruby-identifier">editors</span> = []
        <span class="ruby-identifier">editors</span>.<span class="ruby-identifier">push</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">owner</span>)
        <span class="ruby-identifier">gus</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">gu</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">editors</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">gu</span>.<span class="ruby-identifier">user_id</span>)
        }
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">editors</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_all_editors-source -->
          
        </div>

        

        
      </div><!-- get_all_editors-method -->

    
      <div id="method-i-get_cluster_label_list" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_cluster_label_list</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_cluster_label_list-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 537</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_cluster_label_list</span>
        <span class="ruby-keyword">return</span> [ { <span class="ruby-value">:value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Cluster'</span>, <span class="ruby-value">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Cluster'</span>}, { <span class="ruby-value">:value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Issue'</span>, <span class="ruby-value">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Issue'</span> }, { <span class="ruby-value">:value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Volume'</span>, <span class="ruby-value">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Volume'</span> }]
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_cluster_label_list-source -->
          
        </div>

        

        
      </div><!-- get_cluster_label_list-method -->

    
      <div id="method-i-get_clusters_label" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_clusters_label</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_clusters_label-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 360</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_clusters_label</span>()
        <span class="ruby-keyword">return</span> <span class="ruby-string">'Cluster'</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">clusters_label</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">clusters_label</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_clusters_label-source -->
          
        </div>

        

        
      </div><!-- get_clusters_label-method -->

    
      <div id="method-i-get_exhibit_label_list" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_exhibit_label_list</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_exhibit_label_list-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 533</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_exhibit_label_list</span>
        <span class="ruby-keyword">return</span> [ { <span class="ruby-value">:value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Exhibit'</span>, <span class="ruby-value">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Exhibit'</span>}, { <span class="ruby-value">:value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Article'</span>, <span class="ruby-value">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Article'</span> }]
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_exhibit_label_list-source -->
          
        </div>

        

        
      </div><!-- get_exhibit_label_list-method -->

    
      <div id="method-i-get_exhibits_label" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_exhibits_label</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_exhibits_label-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 355</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_exhibits_label</span>()
        <span class="ruby-keyword">return</span> <span class="ruby-string">'Exhibit'</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">exhibits_label</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">exhibits_label</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_exhibits_label-source -->
          
        </div>

        

        
      </div><!-- get_exhibits_label-method -->

    
      <div id="method-i-get_membership_list" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_membership_list</span><span
            class="method-args">(with_owner = false)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_membership_list-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 240</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_membership_list</span>(<span class="ruby-identifier">with_owner</span> = <span class="ruby-keyword">false</span>)
        <span class="ruby-identifier">gus</span> = <span class="ruby-constant">GroupsUser</span>.<span class="ruby-identifier">where</span>({<span class="ruby-identifier">group_id</span><span class="ruby-operator">:</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>})
        <span class="ruby-identifier">ret</span> = []
        <span class="ruby-identifier">gus</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">gu</span><span class="ruby-operator">|</span>
                <span class="ruby-keyword">if</span> <span class="ruby-identifier">gu</span>.<span class="ruby-identifier">pending_invite</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">gu</span>.<span class="ruby-identifier">pending_request</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
                        <span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">gu</span>.<span class="ruby-identifier">user_id</span>)
                        <span class="ruby-identifier">ret</span>.<span class="ruby-identifier">push</span>({ <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">fullname</span>, <span class="ruby-value">:user_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">id</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">gu</span>.<span class="ruby-identifier">id</span>, <span class="ruby-value">:role</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">gu</span>.<span class="ruby-identifier">role</span> })
                <span class="ruby-keyword">end</span>
        }
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">with_owner</span>
                <span class="ruby-identifier">ret</span>.<span class="ruby-identifier">push</span>({ <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">user</span>.<span class="ruby-identifier">fullname</span>, <span class="ruby-value">:user_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">user</span>.<span class="ruby-identifier">id</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>, <span class="ruby-value">:role</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'owner'</span> })
        <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">ret</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_membership_list-source -->
          
        </div>

        

        
      </div><!-- get_membership_list-method -->

    
      <div id="method-i-get_membership_list_truncated" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_membership_list_truncated</span><span
            class="method-args">(max)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_membership_list_truncated-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 255</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_membership_list_truncated</span>(<span class="ruby-identifier">max</span>)
        <span class="ruby-identifier">mems</span> = <span class="ruby-identifier">get_membership_list</span>()
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">mems</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">mems</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">max</span>

        <span class="ruby-identifier">mems</span> = <span class="ruby-identifier">mems</span>.<span class="ruby-identifier">sort_by</span> { <span class="ruby-identifier">rand</span> }
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">mems</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">max</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_membership_list_truncated-source -->
          
        </div>

        

        
      </div><!-- get_membership_list_truncated-method -->

    
      <div id="method-i-get_number_of_members" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_number_of_members</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_number_of_members-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 263</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_number_of_members</span>()
        <span class="ruby-identifier">list</span> = <span class="ruby-identifier">get_membership_list</span>()
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">list</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span> <span class="ruby-comment"># the regular members plus the owner</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_number_of_members-source -->
          
        </div>

        

        
      </div><!-- get_number_of_members-method -->

    
      <div id="method-i-get_pending_id" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_pending_id</span><span
            class="method-args">(user_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_pending_id-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 225</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_pending_id</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-identifier">gu</span> = <span class="ruby-constant">GroupsUser</span>.<span class="ruby-identifier">find_by_group_id_and_email</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">user</span>.<span class="ruby-identifier">email</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-constant">Group</span>.<span class="ruby-identifier">id_obfuscator</span>(<span class="ruby-identifier">gu</span>.<span class="ruby-identifier">id</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">gu</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">gu</span>.<span class="ruby-identifier">pending_invite</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_pending_id-source -->
          
        </div>

        

        
      </div><!-- get_pending_id-method -->

    
      <div id="method-i-get_truncated_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_truncated_name</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_truncated_name-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 379</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_truncated_name</span>()
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">name</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">70</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">70</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;...&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_truncated_name-source -->
          
        </div>

        

        
      </div><!-- get_truncated_name-method -->

    
      <div id="method-i-get_visible_id" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_visible_id</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_visible_id-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 346</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_visible_id</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">visible_url</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">visible_url</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">visible_url</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
        <span class="ruby-keyword">return</span> <span class="ruby-node">&quot;#{self.id}&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_visible_id-source -->
          
        </div>

        

        
      </div><!-- get_visible_id-method -->

    
      <div id="method-i-get_visible_url" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_visible_url</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_visible_url-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 351</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_visible_url</span>
        <span class="ruby-keyword">return</span> <span class="ruby-node">&quot;/groups/#{get_visible_id()}&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_visible_url-source -->
          
        </div>

        

        
      </div><!-- get_visible_url-method -->

    
      <div id="method-i-handle_solr" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">handle_solr</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="handle_solr-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 25</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">handle_solr</span>
        <span class="ruby-constant">SearchUserContent</span>.<span class="ruby-identifier">delay</span>.<span class="ruby-identifier">index</span>(<span class="ruby-string">'group'</span>, <span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- handle_solr-source -->
          
        </div>

        

        
      </div><!-- handle_solr-method -->

    
      <div id="method-i-invite_members" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">invite_members</span><span
            class="method-args">(editor_name, editor_email, emails, usernames, url_accept, url_decline, url_home)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="invite_members-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 289</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">invite_members</span>(<span class="ruby-identifier">editor_name</span>, <span class="ruby-identifier">editor_email</span>, <span class="ruby-identifier">emails</span>, <span class="ruby-identifier">usernames</span>, <span class="ruby-identifier">url_accept</span>, <span class="ruby-identifier">url_decline</span>, <span class="ruby-identifier">url_home</span>)
        <span class="ruby-identifier">msgs</span> = <span class="ruby-string">&quot;&quot;</span>
        <span class="ruby-identifier">list</span> = []
        <span class="ruby-identifier">arr</span> = <span class="ruby-identifier">split_by_all_delimiters</span>(<span class="ruby-identifier">usernames</span>)
        <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">username</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">username</span> = <span class="ruby-identifier">username</span>.<span class="ruby-identifier">strip</span>()
                <span class="ruby-keyword">if</span> <span class="ruby-identifier">username</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
                        <span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find_by_username</span>(<span class="ruby-identifier">username</span>)
                        <span class="ruby-keyword">if</span> <span class="ruby-identifier">user</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
                                <span class="ruby-identifier">msgs</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot;User not found: #{username}&lt;br /&gt;&quot;</span>
                        <span class="ruby-keyword">else</span>
                                <span class="ruby-identifier">list</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">user</span>.<span class="ruby-identifier">email</span>)
                        <span class="ruby-keyword">end</span>
                <span class="ruby-keyword">end</span>
        }

        <span class="ruby-identifier">arr</span> = <span class="ruby-identifier">split_by_all_delimiters</span>(<span class="ruby-identifier">emails</span>)
        <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">email</span><span class="ruby-operator">|</span>
                <span class="ruby-comment"># The user may have put in lots of different email formats, or may have put in unintelligible data. We will only</span>
                <span class="ruby-comment"># keep emails that appear to be well-formed.</span>
                <span class="ruby-identifier">email</span> = <span class="ruby-identifier">email</span>.<span class="ruby-identifier">strip</span>()
                <span class="ruby-identifier">is_legal</span> = <span class="ruby-regexp">/^\&lt;?.+@.+\..+\&gt;?$/</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">email</span>) <span class="ruby-comment"># emails must be in the form: aaa@aaa.aaa, possibly bracketed by &lt;...&gt;</span>
                <span class="ruby-keyword">if</span> <span class="ruby-identifier">email</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">is_legal</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
                        <span class="ruby-identifier">email</span> = <span class="ruby-identifier">email</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-string">&quot;&lt;&quot;</span>, <span class="ruby-string">''</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-string">&quot;&gt;&quot;</span>, <span class="ruby-string">''</span>)   <span class="ruby-comment"># don't want the bracketing</span>
                        <span class="ruby-identifier">list</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">email</span>)
                <span class="ruby-keyword">end</span>
        }

        <span class="ruby-identifier">list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">email</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">gu</span> = <span class="ruby-constant">GroupsUser</span>.<span class="ruby-identifier">find_by_group_id_and_email</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">email</span>)
                <span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find_by_email</span>(<span class="ruby-identifier">email</span>)
                <span class="ruby-identifier">user_id</span> = <span class="ruby-identifier">user</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
                <span class="ruby-identifier">user_name</span> = <span class="ruby-identifier">user</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">fullname</span> <span class="ruby-operator">:</span> <span class="ruby-string">&quot;&quot;</span>
                <span class="ruby-keyword">if</span> <span class="ruby-identifier">gu</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">owner</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">user_id</span>        <span class="ruby-comment"># don't invite someone twice</span>
                        <span class="ruby-keyword">begin</span>
                                <span class="ruby-identifier">gu</span> = <span class="ruby-constant">GroupsUser</span>.<span class="ruby-identifier">new</span>({ <span class="ruby-value">:group_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>, <span class="ruby-value">:user_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">user_id</span>, <span class="ruby-value">:email</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">email</span>, <span class="ruby-value">:role</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'member'</span>, <span class="ruby-value">:pending_invite</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, <span class="ruby-value">:pending_request</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span> })
                                <span class="ruby-identifier">gu</span>.<span class="ruby-identifier">save!</span>
                                <span class="ruby-identifier">body</span> = <span class="ruby-node">&quot;#{editor_name} has invited you to join the group \&quot;#{self.name}.\&quot;\n\n&quot;</span>
                                <span class="ruby-keyword">if</span> <span class="ruby-identifier">user_id</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
                                        <span class="ruby-identifier">body</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot;To join this group, you will be prompted to create a login ID on #{Setup.site_name()}.\n\n&quot;</span>
                                <span class="ruby-keyword">end</span>
                                <span class="ruby-identifier">accept</span> = <span class="ruby-identifier">url_accept</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-string">&quot;PUT_ID_HERE&quot;</span>, <span class="ruby-node">&quot;#{Group.id_obfuscator(gu.id)}&quot;</span>)
                                <span class="ruby-identifier">decline</span> = <span class="ruby-identifier">url_decline</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-string">&quot;PUT_ID_HERE&quot;</span>, <span class="ruby-node">&quot;#{Group.id_obfuscator(gu.id)}&quot;</span>)
                                <span class="ruby-identifier">body</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot;If you wish to join this group, click here: #{accept}\n\n&quot;</span>
                                <span class="ruby-identifier">body</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot;If you do not wish to join this group, click here: #{decline}\n\n&quot;</span>
                                <span class="ruby-constant">GenericMailer</span>.<span class="ruby-identifier">generic</span>(<span class="ruby-identifier">editor_name</span>, <span class="ruby-identifier">editor_email</span>, <span class="ruby-identifier">user_name</span>, <span class="ruby-identifier">email</span>, 
                                   <span class="ruby-string">&quot;Invitation to join a group&quot;</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">url_home</span>, <span class="ruby-string">&quot;&quot;</span>).<span class="ruby-identifier">deliver</span>
                        <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SMTPFatalError</span>
                                <span class="ruby-identifier">msgs</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot;Error sending email to address \&quot;#{email}\&quot;.&lt;br /&gt;&quot;</span>
                                <span class="ruby-identifier">gu</span>.<span class="ruby-identifier">delete</span>
                        <span class="ruby-keyword">end</span>
                <span class="ruby-keyword">end</span>
        }
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">msgs</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">msgs</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- invite_members-source -->
          
        </div>

        

        
      </div><!-- invite_members-method -->

    
      <div id="method-i-is_editor" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">is_editor</span><span
            class="method-args">(user_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="is_editor-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 163</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">is_editor</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">user_id</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">is_owner</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-identifier">rec</span> = <span class="ruby-constant">GroupsUser</span>.<span class="ruby-identifier">find_by_group_id_and_user_id</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">user_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">rec</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">rec</span>.<span class="ruby-identifier">role</span> <span class="ruby-operator">==</span> <span class="ruby-string">'editor'</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- is_editor-source -->
          
        </div>

        

        
      </div><!-- is_editor-method -->

    
      <div id="method-i-is_member" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">is_member</span><span
            class="method-args">(user_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="is_member-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 171</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">is_member</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">is_owner</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-identifier">rec</span> = <span class="ruby-constant">GroupsUser</span>.<span class="ruby-identifier">find_by_group_id_and_user_id</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">user_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">rec</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">rec</span>.<span class="ruby-identifier">pending_invite</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rec</span>.<span class="ruby-identifier">pending_request</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- is_member-source -->
          
        </div>

        

        
      </div><!-- is_member-method -->

    
      <div id="method-i-is_owner" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">is_owner</span><span
            class="method-args">(user_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>User’s Roles</p>
          

          
          <div class="method-source-code" id="is_owner-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 159</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">is_owner</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">user_id</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">owner</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- is_owner-source -->
          
        </div>

        

        
      </div><!-- is_owner-method -->

    
      <div id="method-i-is_peer_reviewed" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">is_peer_reviewed</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="is_peer_reviewed-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 29</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">is_peer_reviewed</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">group_type</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;peer-reviewed&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- is_peer_reviewed-source -->
          
        </div>

        

        
      </div><!-- is_peer_reviewed-method -->

    
      <div id="method-i-is_request_pending" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">is_request_pending</span><span
            class="method-args">(user_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="is_request_pending-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 232</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">is_request_pending</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">user_id</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">user_id</span>)
        <span class="ruby-identifier">gu</span> = <span class="ruby-constant">GroupsUser</span>.<span class="ruby-identifier">find_by_group_id_and_email</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">user</span>.<span class="ruby-identifier">email</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">gu</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">gu</span>.<span class="ruby-identifier">pending_request</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- is_request_pending-source -->
          
        </div>

        

        
      </div><!-- is_request_pending-method -->

    
      <div id="method-i-non_clustered_exhibits" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">non_clustered_exhibits</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="non_clustered_exhibits-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 179</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">non_clustered_exhibits</span>()
        <span class="ruby-identifier">ret</span> = []
        <span class="ruby-identifier">exhibits</span> = <span class="ruby-constant">Exhibit</span>.<span class="ruby-identifier">all</span>(<span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">&quot;group_id = ? AND is_published &lt;&gt; 0 AND cluster_id IS NULL&quot;</span>, <span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>])
        <span class="ruby-identifier">exhibits</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">exhibit</span><span class="ruby-operator">|</span>
                <span class="ruby-keyword">if</span> <span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">cluster_id</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
                        <span class="ruby-identifier">ret</span>.<span class="ruby-identifier">push</span>({ <span class="ruby-value">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">title</span>, <span class="ruby-value">:value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">exhibit</span>.<span class="ruby-identifier">id</span> })
                <span class="ruby-keyword">end</span>
        }
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">ret</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- non_clustered_exhibits-source -->
          
        </div>

        

        
      </div><!-- non_clustered_exhibits-method -->

    
      <div id="method-i-show_exhibits_explanations_to_json" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">show_exhibits_explanations_to_json</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="show_exhibits_explanations_to_json-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 526</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">show_exhibits_explanations_to_json</span>
        <span class="ruby-identifier">explanations</span> = [ <span class="ruby-node">&quot;List both #{get_clusters_label().pluralize().downcase()} and #{get_exhibits_label().pluralize().downcase()} in the #{get_exhibits_label().pluralize().downcase()} list.&quot;</span>,
                <span class="ruby-node">&quot;List only #{get_clusters_label().pluralize().downcase()} and #{get_exhibits_label().pluralize().downcase()} that belong to #{get_clusters_label().pluralize().downcase()} in the #{get_exhibits_label().pluralize().downcase()} list.&quot;</span>,
                <span class="ruby-node">&quot;List only #{get_exhibits_label().pluralize().downcase()} and not #{get_clusters_label().pluralize().downcase()} in the #{get_exhibits_label().pluralize().downcase()} list.&quot;</span>  ]
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">explanations</span>.<span class="ruby-identifier">to_json</span>()
<span class="ruby-keyword">end</span></pre>
          </div><!-- show_exhibits_explanations_to_json-source -->
          
        </div>

        

        
      </div><!-- show_exhibits_explanations_to_json-method -->

    
      <div id="method-i-show_exhibits_to_json" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">show_exhibits_to_json</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="show_exhibits_to_json-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 509</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">show_exhibits_to_json</span>()
        <span class="ruby-identifier">vals</span> = <span class="ruby-constant">Group</span>.<span class="ruby-identifier">show_exhibits</span>()
        <span class="ruby-identifier">texts</span> = <span class="ruby-constant">Group</span>.<span class="ruby-identifier">friendly_show_exhibits</span>()
        <span class="ruby-identifier">exhibit_label</span> = <span class="ruby-identifier">get_exhibits_label</span>().<span class="ruby-identifier">pluralize</span>().<span class="ruby-identifier">downcase</span>()
        <span class="ruby-identifier">clusters_label</span> = <span class="ruby-identifier">get_clusters_label</span>().<span class="ruby-identifier">pluralize</span>().<span class="ruby-identifier">downcase</span>()
        <span class="ruby-identifier">texts</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span> <span class="ruby-identifier">txt</span> <span class="ruby-operator">|</span>
        <span class="ruby-identifier">txt</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-string">&quot;clusters&quot;</span>, <span class="ruby-identifier">clusters_label</span>)
 <span class="ruby-identifier">txt</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-string">&quot;exhibits&quot;</span>, <span class="ruby-identifier">exhibit_label</span>)   
        <span class="ruby-keyword">end</span>
        
        <span class="ruby-identifier">ret</span> = []
        <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-value">2</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">ret</span>.<span class="ruby-identifier">push</span>({ <span class="ruby-value">:value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">vals</span>[<span class="ruby-identifier">i</span>], <span class="ruby-value">:text</span> =<span class="ruby-operator">&gt;</span>       <span class="ruby-identifier">texts</span>[<span class="ruby-identifier">i</span>] })
        }
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">ret</span>.<span class="ruby-identifier">to_json</span>()
<span class="ruby-keyword">end</span></pre>
          </div><!-- show_exhibits_to_json-source -->
          
        </div>

        

        
      </div><!-- show_exhibits_to_json-method -->

    
      <div id="method-i-split_by_all_delimiters" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">split_by_all_delimiters</span><span
            class="method-args">(emails)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Actions</p>
          

          
          <div class="method-source-code" id="split_by_all_delimiters-source">
            <pre><span class="ruby-comment"># File app/models/group.rb, line 271</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">split_by_all_delimiters</span>(<span class="ruby-identifier">emails</span>)
        <span class="ruby-identifier">ret</span> = []
        <span class="ruby-identifier">arr</span> = <span class="ruby-identifier">emails</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;\n&quot;</span>)
        <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">email</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">arr2</span> = <span class="ruby-identifier">email</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">' '</span>)
                <span class="ruby-identifier">arr2</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">email2</span><span class="ruby-operator">|</span>
                        <span class="ruby-identifier">arr3</span> = <span class="ruby-identifier">email2</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">','</span>)
                        <span class="ruby-identifier">arr3</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">email3</span><span class="ruby-operator">|</span>
                                <span class="ruby-identifier">arr4</span> = <span class="ruby-identifier">email3</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">';'</span>)
                                <span class="ruby-identifier">arr4</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">email4</span><span class="ruby-operator">|</span>
                                        <span class="ruby-identifier">ret</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">email4</span>)
                                }
                        }
                }
        }
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">ret</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- split_by_all_delimiters-source -->
          
        </div>

        

        
      </div><!-- split_by_all_delimiters-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.2.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

