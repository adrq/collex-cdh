var SidebarTagCloud=Class.create({initialize:function(){this.instructions={tag:"tag",annotation:"annotation"},this.initSidebarFilterHandler()},initSidebarFilterHandler:function(){this.sidebarTouched=!1,Event.observe("sidebar_search","keyup",this.onSidebarFilter.bindAsEventListener(this))},onSidebarFilter:function(){this.sidebarTouched=!0,this.updateTagCloud()},updateTagCloud:function(){var e=$("tagcloud");if(e){var i=this.sidebarTouched?$("sidebar_search").value.toLowerCase():"",a=e.select("a"),t=0,n=[];a.each(function(e){e.hasClassName("dont_filter")===!1?i.blank()||e.innerHTML.toLowerCase().indexOf(i)>=0?(e.show(),n[t++]=e):e.hide():"[show fewer tags]"===e.innerHTML?i.blank()?e.show():e.hide():"[show entire tag cloud]"===e.innerHTML&&(i.blank()||e.hide())});var r=$("more_tags");r&&r.show()}}});