var tagZoom={zoom_level:1,startY:0,offsetY:0,dragElement:null,oldZIndex:0,curr_pos:0,doZoom:function(o){var e=function(o){for(var e=$$("#tagcloud span"),t=0;t<e.length;t++){for(var a=0;10>=a;a++)e[t].removeClassName("cloud"+a);var l=e[t].readAttribute("zoom").split(","),m="cloud"+l[o-1];e[t].addClassName(m)}};switch(o){case"+":tagZoom.zoom_level<10&&tagZoom.zoom_level++;break;case"-":tagZoom.zoom_level>1&&tagZoom.zoom_level--;break;case"1":tagZoom.zoom_level=1;break;case"2":tagZoom.zoom_level=2;break;case"3":tagZoom.zoom_level=3;break;case"4":tagZoom.zoom_level=4;break;case"5":tagZoom.zoom_level=5;break;case"6":tagZoom.zoom_level=6;break;case"7":tagZoom.zoom_level=7;break;case"8":tagZoom.zoom_level=8;break;case"9":tagZoom.zoom_level=9;break;case"10":tagZoom.zoom_level=10}e(tagZoom.zoom_level);var t=$("tag_zoom_thumb");t.style.top=""+(306-9*tagZoom.zoom_level)+"px",null===tagZoom.dragElement&&serverNotify("/tag/set_zoom",{level:tagZoom.zoom_level})},zoomThumbMouseDown:function(o){var e=function(o){var e=parseInt(o);return null===e||isNaN(e)?0:e},t=function(o){for(;o;){if("tag_zoom_thumb"===o.id)return o;o=o.parentNode}return null},a=function(o){null===o&&(o=window.event);var e=tagZoom.offsetY+o.clientY-tagZoom.startY;224>e&&(e=224),e>297&&(e=297),tagZoom.dragElement.style.top=e+"px",tagZoom.curr_pos=Math.round((297-e)/8)+1,tagZoom.doZoom(""+tagZoom.curr_pos)};null===o&&(o=window.event);var l=null!==o.target?o.target:o.srcElement;return l=t(l),(1===o.button&&null!==window.event||0===o.button)&&null!==l?(tagZoom.startY=o.clientY,tagZoom.offsetY=e(l.style.top),tagZoom.oldZIndex=l.style.zIndex,l.style.zIndex=1e4,tagZoom.dragElement=l,document.onmousemove=a,document.body.focus(),document.onselectstart=function(){return!1},l.ondragstart=function(){return!1},!1):!0},zoomThumbMouseUp:function(){null!==tagZoom.dragElement&&(tagZoom.dragElement.style.zIndex=tagZoom.oldZIndex,document.onmousemove=null,document.onselectstart=null,tagZoom.dragElement.ondragstart=null,tagZoom.dragElement=null,tagZoom.doZoom(""+tagZoom.curr_pos))}};