jQuery(document).ready(function(e){"use strict";var o=e("body");o.on("click",".category-btn",function(){var o=e(this),r=o.data("category")+o.data("id"),a=o.closest("table");a.find("tr").each(function(){var a=e(this).data("parent-id");a==r&&(o.hasClass("expanded")?e(this).hide():e(this).show())}),o.hasClass("expanded")?(o.removeClass("expanded"),o.addClass("collapsed"),o.find(".exp-arrow").show(),o.find(".col-arrow").hide(),serverNotify("/search/remember_resource_toggle",{dir:"close",id:r})):(o.removeClass("collapsed"),o.addClass("expanded"),o.find(".exp-arrow").hide(),o.find(".col-arrow").show(),serverNotify("/search/remember_resource_toggle",{dir:"open",id:r}))}),o.on("click",".resource-tree-node button",function(){var o=e(this),r=o.closest(".resource-tree-node"),a=r.find('button[data-action="open"]'),t=o.attr("data-action"),s=r.attr("data-id");"toggle"===t&&(t=a.is(":visible")?"open":"close");var d=window.collex.getArchiveNode(s);d&&(d.toggle=t);var i=e(".facet-archive");i.find("tr").show(),i.find("button").show(),window.collex.setResourceToggle(i,window.collex.facetNames.archives),serverNotify("/search/remember_resource_toggle",{dir:t,id:s})})});